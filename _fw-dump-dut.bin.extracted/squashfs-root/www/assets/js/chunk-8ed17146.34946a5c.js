(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ed17146"],{"001f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative",attrs:{id:"net_type"}},[a("page-loading"),a("div",{staticClass:"form-wrap mb20"},[t._l(t.form,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:(0==i||i>3)&&(i<t.expand_limit||10==i||9==i),expression:"(idx==0||idx>3)&&(idx<expand_limit||idx==10||idx==9)"}],key:i},[0==i?a("os-entry",{attrs:{item:e},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData[i],expression:"formData[idx]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formData[i])?t._i(t.formData[i],null)>-1:t.formData[i]},on:{change:function(e){var a=t.formData[i],o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);o.checked?r<0&&t.$set(t.formData,i,a.concat([s])):r>-1&&t.$set(t.formData,i,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formData,i,n)}}})]):t._e(),4==i?a("os-input",{attrs:{item:e,readonly:t.apn_readonly},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}}):t._e(),7==i?a("os-input",{attrs:{item:e,readonly:t.apn_readonly},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}}):t._e(),8==i?a("os-input",{attrs:{item:e,category:"password",readonly:t.apn_readonly},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}}):t._e(),"input"==e.type&&4!=i&&7!=i&&8!=i?a("os-input",{attrs:{item:e},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}}):t._e(),9==i&&"multi"==t.type&&1===t.$config.sim_module?a("os-select",{attrs:{wholeField:!0,simple:"same",options:t.options,disabled:!t.formData[0],item:e},model:{value:t.formData[9],callback:function(e){t.$set(t.formData,9,e)},expression:"formData[9]"}}):t._e(),t.selectType?[10==i&&"ZBT"==t.corporation&&1===t.$config.sim_select?a("os-select",{attrs:{wholeField:!0,simple:"same",options:t.sim_list,item:e},on:{input:t.sim_change},model:{value:t.formData[10],callback:function(e){t.$set(t.formData,10,e)},expression:"formData[10]"}}):t._e()]:[10==i&&"ZBT"==t.corporation&&1===t.$config.sim_select?a("os-select",{attrs:{wholeField:!0,simple:!1,options:t.sim_list,item:e,noValue:!0},on:{input:t.sim_change},model:{value:t.formData[10],callback:function(e){t.$set(t.formData,10,e)},expression:"formData[10]"}}):t._e()],11==i&&1===t.$config.sim_switch?a("os-entry",{attrs:{item:e},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData[i],expression:"formData[idx]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formData[i])?t._i(t.formData[i],null)>-1:t.formData[i]},on:{change:function(e){var a=t.formData[i],o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);o.checked?r<0&&t.$set(t.formData,i,a.concat([s])):r>-1&&t.$set(t.formData,i,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formData,i,n)}}})]):t._e(),12==i&&"single"==t.type&&1==t.$config.auth_apn?a("os-entry",{attrs:{item:e},model:{value:t.formData[i],callback:function(e){t.$set(t.formData,i,e)},expression:"formData[idx]"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData[i],expression:"formData[idx]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formData[i])?t._i(t.formData[i],null)>-1:t.formData[i]},on:{change:function(e){var a=t.formData[i],o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);o.checked?r<0&&t.$set(t.formData,i,a.concat([s])):r>-1&&t.$set(t.formData,i,a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formData,i,n)}}})]):t._e()],2)})),a("os-entry",[a("div",{staticClass:"add",on:{click:t.handle_expand_hide}},[t._v(t._s(t.expand_text))])]),a("div",{staticClass:"value alone-right"},[a("div",{staticClass:"btn btn-blue",on:{click:t.set_4g}},[t._v(t._s(t.$t("btn.save")))])])],2),a("os-table",{attrs:{info:t.info1}},t._l(t.netSignal,(function(e,i){return a("tr",{key:i,attrs:{slot:"table_list"},slot:"table_list"},[t._l(["operator","iccid","model","imei"],(function(i,o){return a("td",{key:o},[t._v(" "+t._s(e[i]?e[i]:"--")+" ")])})),a("td",{key:4},[a("span",{class:"signal"+e.signal})])],2)})),0),a("os-table",{attrs:{info:t.info2,list:t.netStatus,map:["host","macaddr","txall","rxall","uptime"]}}),a("os-log",{attrs:{title:t.$t("network.net_type.log"),"log-info":t.logInfo}})],1)},o=[],n=(a("4160"),a("ac1f"),a("1276"),a("159b"),{data:function(){return{limit:10,expand_limit:5,expand_text:this.$t("network.net_type.operate"),form:this.$t("network.net_type.form"),formData:[],form_dict:["mobile_priority","","","","apn","dialnumber","pin","username","password","module_first","SIMX","switch_sim_enabled","auth_apn"],sim_list:[],input_data:"初始化数据",switchOff:!0,dial:[{label:"PPP",value:""},{label:"GobiNet",value:""},{label:"USB_DHCP",value:""},{label:"QMI",value:""}],area:["China","Australia","Brazil","Brunei","Canada"],isp:[{label:"China Unicon 3G/4G",value:""},{label:"China Mobile 3G/4G",value:""},{label:"China Telecom 3G",value:""},{label:"China Telecom 4G",value:""}],netSignal:[],netStatus:[],logInfo:"",timer:null,selectType:!0,oldSim:""}},props:{id:{},options:{},type:{default:"single"}},methods:{handle_expand:function(){this.limit=1==this.limit?10:1},handle_expand_hide:function(){console.log(this.expand_limit),5==this.expand_limit?(this.expand_limit=20,this.expand_text=this.$t("network.net_type.operate_fold")):(this.expand_limit=5,this.expand_text=this.$t("network.net_type.operate"))},handleSwitch:function(){this.switchOff=!this.switchOff},get_4g:function(t){var e=this;this.$req.get("/webapi?op=get_4g"+(this.id?"&module_section="+this.id:"")+(t?"&SIMX="+t:"")).then((function(t){console.log("----------------------"),console.log(t),console.log("----------------------");var a=t.data.switch_sim_enabled;t.data.switch_sim_enabled="1"==a,e.obj_to_arr(t.data,e.form_dict,e.formData),console.log(e.formData),"1"==e.formData[0]?e.$set(e.formData,0,!0):e.$set(e.formData,0,!1),"1"==e.formData[12]?e.$set(e.formData,12,!0):e.$set(e.formData,12,!1);var i=t.sim_list;if(e.oldSim=t.data.sim_set,i.length>0)if(isNaN(parseInt(i[0])))e.selectType=!0,e.sim_list=t.sim_list;else{var o=e.$i18n.locale,n=[];"zh"==o?n=[{value:"0",label:"外置实体SIM卡"},{value:"1",label:"内置SIM卡"}]:"en"==o?n=[{value:"0",label:"External SIM Card"},{value:"1",label:"Internal SIM Card"}]:"de"==o?n=[{value:"0",label:"Externe SIM-Karte"},{value:"1",label:"Eingebaut SIM-Karte"}]:"fr"==o&&(n=[{value:"0",label:"Carte SIM physique externe"},{value:"1",label:"Carte SIM intégrée"}]),e.selectType=!1,e.sim_list=n}0==e.selectType&&("0"==e.formData[10]?e.$set(e.formData,10,e.sim_list[0].value):e.$set(e.formData,10,e.sim_list[1].value))}))},set_4g:function(){var t=this;if(!this.verify_password(this.formData[8])){var e=this.arr_to_obj(this.formData,this.form_dict);e.module_section=this.id,e.mobile_priority=this.formData[0]?"1":"0",e.switch_sim_enabled=1==e.switch_sim_enabled?"1":"0",e.auth_apn=1==e.auth_apn?"1":"0",this.formData[0]?this.mobile_priority="1":(this.mobile_priority="0",delete e.module_first),this.proxy_req("post","/webapi?op=set_4g"+(this.id?"&module_section="+this.id:""),e,(function(e){if("1"==e.code&&t.oldSim!=t.formData[10]&&t.sim_list.length>0){var a=t.$i18n.locale,i="";i="zh"==a?"切换SIM卡后需等待1-5分钟才可正常使用":"en"==a?"After the SIM card is switched, the SIM card can be used normally after 1 to 5 minutes":"de"==a?"Nach dem Schalten der SIM-Karte, warten Sie 1-5 Minuten, bevor sie normal verwendet werden kann":"fr"==a?"Après avoir commuté la carte SIM, vous devez attendre 1-5 minutes avant de l’utiliser normalement":"After the SIM card is switched, the SIM card can be used normally after 1 to 5 minutes",t.$message({showClose:!0,message:i,type:"warning",duration:5e3,offset:80}),t.get_4g()}}),!0)}},sim_change:function(t){console.log("测试change事件defer",t),this.get_4g(t)},get_signal:function(){var t=this;this.$req.get("/webapi?op=get_module_signal"+(this.id?"&module_section="+this.id:"")).then((function(e){var a=e.data;a.forEach((function(e,a){e.signal=t.transferSignal(e.signal)})),t.netSignal=e.data})).catch((function(t){}))},get_status:function(){var t=this;this.$req.get("/webapi?op=get_module_status"+(this.id?"&module_section="+this.id:"")).then((function(e){var a=e.data;a.forEach((function(e,a){var i=e.ifname,o=e.host,n=e.macaddr,s=e.txall,r=e.rxall,l=e.uptime;Object.assign(e,{host:i+"/"+o,macaddr:n||"--",txall:t.formatByte(s),rxall:t.formatByte(r),uptime:t.formatDuration(l)})})),t.netStatus=a})).catch((function(t){}))},get_logInfo:function(){var t=this;this.$req.get("/webapi?op=get_4g_log"+(this.id?"&module_section="+this.id:"")).then((function(e){t.logInfo=e.content.split("\n")}))}},computed:{apn_readonly:function(){return"single"===this.type&&this.formData[12]},info1:function(){return this.$t("network.net_type.info1")},info2:function(){return this.$t("network.net_type.info2")},btn_text:function(){return 1==this.limit?this.$t("network.net_type.operate"):this.$t("network.net_type.operate_fold")}},created:function(){var t=this;if(console.log(this.type),"single"==this.type){var e=this.form[10];e.label=e.label1,this.$set(this.form,10,e)}console.log(this.options),console.log(this.id),this.get_4g(),this.get_signal(),this.get_status(),this.get_logInfo(),this.timer=setInterval((function(){t.get_signal(),t.get_status(),t.get_logInfo()}),5e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},activated:function(){var t=this;null==this.timer&&(this.timer=setInterval((function(){t.get_signal(),t.get_status(),t.get_logInfo()}),5e3))},deactivated:function(){clearInterval(this.timer),this.timer=null}}),s=n,r=a("2877"),l=Object(r["a"])(s,i,o,!1,null,"ae5c172e",null);e["a"]=l.exports},"18df":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"net_type"}},[a("v-net")],1)},o=[],n=a("001f"),s={components:{"v-net":n["a"]}},r=s,l=a("2877"),c=Object(l["a"])(r,i,o,!1,null,"6060d0d4",null);e["default"]=c.exports}}]);