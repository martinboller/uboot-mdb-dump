(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68ffba60"],{"4e70":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".specify-table td[data-v-2decb1fe]{padding-left:4px;padding-right:4px}",""]),t.exports=e},"5d8f":function(t,e,i){"use strict";var o=i("ef95"),a=i.n(o);a.a},7934:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"acl-pattern relative"},[i("page-loading"),i("os-switch",{attrs:{item:t.field},on:{handleSwitch:t.global_toggle},model:{value:t.enabled,callback:function(e){t.enabled=e},expression:"enabled"}}),i("os-table",{staticClass:"specify-table",staticStyle:{"margin-bottom":"105px"},attrs:{info:t.info},scopedSlots:t._u([{key:"table_list",fn:function(){return[t._l(t.list,(function(e,o){return i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"bottom-line-cell text-center",attrs:{type:"text",placeholder:"0-999"},domProps:{value:e.name},on:{input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.src_ip,expression:"item.src_ip"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"60%"},attrs:{type:"text",placeholder:t.origin.sourceIP},domProps:{value:e.src_ip},on:{input:function(i){i.target.composing||t.$set(e,"src_ip",i.target.value)}}}),t._v(" : "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.src_port,expression:"item.src_port"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"30%"},attrs:{type:"text",placeholder:t.origin.port},domProps:{value:e.src_port},on:{input:function(i){i.target.composing||t.$set(e,"src_port",i.target.value)}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.dest_ip,expression:"item.dest_ip"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"60%"},attrs:{type:"text",placeholder:t.origin.targetIP},domProps:{value:e.dest_ip},on:{input:function(i){i.target.composing||t.$set(e,"dest_ip",i.target.value)}}}),t._v(" : "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.dest_port,expression:"item.dest_port"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"30%"},attrs:{type:"text",placeholder:t.origin.port},domProps:{value:e.dest_port},on:{input:function(i){i.target.composing||t.$set(e,"dest_port",i.target.value)}}})]),i("td",[i("select-cell",{attrs:{options:t.origin.options_action},model:{value:e.target,callback:function(i){t.$set(e,"target",i)},expression:"item.target"}})],1),i("td",{staticClass:"td-none-break"},[i("select-cell",{attrs:{options:t.origin.options_protocol},model:{value:e.proto,callback:function(i){t.$set(e,"proto",i)},expression:"item.proto"}})],1),i("td",[i("select-cell",{attrs:{options:t.origin.options_direction},model:{value:e.data_flow,callback:function(i){t.$set(e,"data_flow",i)},expression:"item.data_flow"}})],1),i("td",[i("span",{staticClass:"add",on:{click:function(i){return t.save(e,o)}}},[t._v(" "+t._s(t.$t("btn.save"))+" ")]),i("span",{staticClass:"add",on:{click:function(e){return t.drop(o)}}},[t._v(" "+t._s(t.$t("operate.drop"))+" ")]),i("span",{staticClass:"add",on:{click:function(i){return t.toggle(e,o)}}},[t._v(" "+t._s("1"===e.enabled?t.$t("btn.disable"):t.$t("btn.enable"))+" ")])])])})),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.priority,expression:"priority"}],staticClass:"bottom-line-cell text-center",attrs:{type:"text",placeholder:"0-999"},domProps:{value:t.priority},on:{input:function(e){e.target.composing||(t.priority=e.target.value)}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.source_ip,expression:"source_ip"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"60%"},attrs:{type:"text",placeholder:t.origin.sourceIP},domProps:{value:t.source_ip},on:{input:function(e){e.target.composing||(t.source_ip=e.target.value)}}}),t._v(" : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.source_port,expression:"source_port"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"30%"},attrs:{type:"text",placeholder:t.origin.port},domProps:{value:t.source_port},on:{input:function(e){e.target.composing||(t.source_port=e.target.value)}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.target_ip,expression:"target_ip"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"60%"},attrs:{type:"text",placeholder:t.origin.targetIP},domProps:{value:t.target_ip},on:{input:function(e){e.target.composing||(t.target_ip=e.target.value)}}}),t._v(" : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.target_port,expression:"target_port"}],staticClass:"bottom-line-cell text-center",staticStyle:{display:"inline-block",width:"30%"},attrs:{type:"text",placeholder:t.origin.port},domProps:{value:t.target_port},on:{input:function(e){e.target.composing||(t.target_port=e.target.value)}}})]),i("td",[i("select-cell",{attrs:{options:t.origin.options_action},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}})],1),i("td",[i("select-cell",{attrs:{options:t.origin.options_protocol},model:{value:t.protocol,callback:function(e){t.protocol=e},expression:"protocol"}})],1),i("td",[i("select-cell",{attrs:{options:t.origin.options_direction},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}})],1),i("td",[i("span",{staticClass:"add",on:{click:function(e){return t.add(!1)}}},[t._v(" "+t._s(t.$t("operate.add"))+" ")])])])]},proxy:!0}])}),i("div",{staticClass:"toolbar"},[t._v(t._s(t.origin.toolbar.split("\n")[0])),i("br"),t._v(t._s(t.origin.toolbar.split("\n")[1]))])],1)},a=[],s=(i("b0c0"),i("a9e3"),{data:function(){return{origin:this.$t("advanced.pages[7]"),field:this.$t("advanced.pages[7].field"),info:this.$t("advanced.pages[7].info"),enabled:"1",priority:"",source_ip:"",source_port:"",target_ip:"",target_port:"",action:"REJECT",protocol:"tcp",direction:"forward",old_list:[],list:[]}},methods:{verify_priority:function(t){return!(t&&Number(t)>-1&&Number(t)<1e3)&&(this.$msgbox.alert(this.$t("notification.acl_priority_err"),{type:"error"}),!0)},add:function(t){if(t){if(this.verify_priority(t.name))return;if(console.log(t),""!=t.src_ip&&!this.isCompatibleIP(t.src_ip))return;if(""!=t.dest_ip&&!this.isCompatibleIP(t.dest_ip))return}else{if(this.verify_priority(this.priority))return;if(""!=this.source_ip&&!this.isCompatibleIP(this.source_ip))return;if(""!=this.target_ip&&!this.isCompatibleIP(this.target_ip))return;t={name:this.priority,proto:this.protocol,src_ip:this.source_ip,src_port:this.source_port,dest_ip:this.target_ip,dest_port:this.target_port,data_flow:this.direction,target:this.action,enabled:"1"}}console.log(t),this.proxy_req("post","/webapi?op=set_acl_rule",t,(function(t){console.log(t),window.location.reload()}),!0)},get_status:function(){var t=this;this.$req.get("/webapi?op=get_acl_status").then((function(e){t.enabled=e.acl_enabled}))},get_list:function(){var t=this;this.$req.get("/webapi?op=get_acl_rule").then((function(e){t.old_list=e.data,t.list=t.deepClone(e.data)}))},save:function(t,e){t.name_old=this.old_list[e].name,console.log(t),this.add(t)},drop:function(t){console.log(t);var e=this.old_list[t];e.name_delete="1",this.add(e)},toggle:function(t,e){t.name_old=this.old_list[e].name,t.enabled=1-parseInt(t.enabled)+"",this.add(t)},global_toggle:function(){this.proxy_req("post","/webapi?op=set_acl_status",{acl_enabled:this.enabled},(function(t){window.location.reload()}),!0)}},created:function(){this.get_status(),this.get_list()},beforeDestroy:function(){}}),r=s,n=(i("5d8f"),i("2877")),l=Object(n["a"])(r,o,a,!1,null,"2decb1fe",null);e["default"]=l.exports},ef95:function(t,e,i){var o=i("4e70");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("499e").default;a("54a2e77d",o,!0,{sourceMap:!1,shadowMode:!1})}}]);