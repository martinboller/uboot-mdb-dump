(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c110"],{f23a:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"net-lan relative"},[s("page-loading"),s("div",{staticClass:"mb20"},[s("div",{staticClass:"vertical-align-flex"},[s("div",{staticClass:"field"},[t._v(t._s(t.$t("network.lan.fields[0]"))+"：")]),s("div",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.ipaddr,expression:"ipaddr"}],staticClass:"input-none bottom-line fs14",attrs:{type:"text"},domProps:{value:t.ipaddr},on:{input:function(a){a.target.composing||(t.ipaddr=a.target.value)}}})])]),s("div",{staticClass:"vertical-align-flex"},[s("div",{staticClass:"field"},[t._v(t._s(t.$t("network.lan.fields[1]"))+"：")]),s("div",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.netmask,expression:"netmask"}],staticClass:"input-none bottom-line fs14",attrs:{type:"text"},domProps:{value:t.netmask},on:{input:function(a){a.target.composing||(t.netmask=a.target.value)}}})])]),s("div",{staticClass:"value alone-right"},[s("div",{staticClass:"btn btn-blue",on:{click:t.set_lan_config}},[t._v(t._s(t.$t("btn.save")))])])]),s("div",{staticClass:"view-table mb20"},[s("div",{staticClass:"table-title"},[t._v(" "+t._s(t.info.title)+" ")]),s("table",{staticClass:"table-center"},[t._m(0),s("thead",[s("tr",t._l(t.info.head,(function(a,i){return s("th",{key:i},[t._v(t._s(a))])})),0)]),s("tbody",[s("tr",t._l(t.info.value,(function(a,i){return s("td",{key:i,class:{"text-orange":4==i||6==i,"text-green":3==i||5==i||7==i},staticStyle:{"word-break":"break-word"}},[t._v(" "+t._s(a||"--")+" ")])})),0)])])]),s("div",{staticClass:"toolbar"},[t._v(t._s(t.$t("network.lan.toolbar")))])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("colgroup",[s("col",{staticClass:"w40"}),s("col",{staticClass:"w60"}),s("col",{staticClass:"w70"}),s("col",{staticClass:"w50"}),s("col",{staticClass:"w50"}),s("col",{staticClass:"w40"}),s("col",{staticClass:"w40"}),s("col",{staticClass:"w50"})])}],n=(s("a15b"),s("a9e3"),s("ac1f"),s("1276"),{data:function(){return{lan_config:"",lan_status:"",ipaddr:"",netmask:"",timer:null,count:0,origin:this.$t("network.lan")}},computed:{info:function(){var t=this.$t("network.lan.info").value;return t[0]=this.$t("home.protoMap")[this.lan_status.proto],t[1]=this.lan_status.ipaddr,t[2]=this.lan_status.macaddr,t[3]=this.formatValue(this.formatByte(this.lan_status.tx)),t[4]=this.formatValue(this.formatByte(this.lan_status.rx)),t[5]=this.lan_status.txall,t[6]=this.lan_status.rxall,t[7]=this.formatDuration(this.lan_status.uptime),this.$t("network.lan.info")}},methods:{transferTotal:function(t){if(Number(t)<1073741824){var a=Number(t)/1048576,s=Math.floor(100*a);return s/100+"MB"}var i=Number(t)/1073741824,e=Math.floor(100*i);return e/100+"GB"},get_lan_config:function(){var t=this;this.$req.get("/webapi?op=get_lan_config").then((function(a){var s=a.data;t.ipaddr=s.ipaddr,t.netmask=s.netmask,t.lan_config=a.data}))},get_lan_status:function(){var t=this;this.$req.get("/webapi?op=get_lan_status").then((function(a){var s=a.data;s.txall=t.formatByte(s.txall),s.rxall=t.formatByte(s.rxall),t.lan_status=s,console.log(t.lan_status),console.log(s)})).catch((function(t){}))},set_lan_config:function(){var t=this;if(this.isValidIP(this.ipaddr,this.netmask)){var a={ipaddr:this.ipaddr,macaddr:this.info.value[2],netmask:this.netmask};console.log("请求参数",a),this.proxy_req("get","/webapi?op=set_lan_config",a,(function(s){if("1"==s.code&&(t.$msgbox.alert(t.$t("notification.lan_config_loading"),{type:"warning"}),t.lan_config.ipaddr=a.ipaddr,t.lan_status.ipaddr!=a.ipaddr)){var i=window.location.href,e=i.split("//"),n=e[1].split("/");n[0]=a.ipaddr,n=n.join("/"),e[1]=n,e=e.join("//"),setTimeout((function(){window.location.href=e}),8e3)}}),!0)}}},created:function(){this.get_lan_config(),this.get_lan_status(),this.$bus.emit("changeTab",2),this.timer=setInterval(this.get_lan_status,2e3)},activated:function(){this.$bus.emit("changeTab",2),this.timer=setInterval(this.get_lan_config,3e3)},deactivated:function(){clearInterval(this.timer)},beforeDestroy:function(){clearInterval(this.timer)}}),l=n,o=s("2877"),r=Object(o["a"])(l,i,e,!1,null,"f063030c",null);a["default"]=r.exports}}]);