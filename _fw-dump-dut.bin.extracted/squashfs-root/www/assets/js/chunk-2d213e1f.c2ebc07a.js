(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213e1f"],{af26:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"relative",attrs:{id:"service-file"}},[e("page-loading"),e("div",{staticClass:"form-wrap mb20"},[s._l(s.fields,(function(t,a){return("samba"===s.type?a<=3:a>3)?e("div",{key:a},[0==a?e("os-switch",{attrs:{item:t},on:{handleSwitch:s.set_samba},model:{value:s.disable,callback:function(t){s.disable=t},expression:"disable"}}):s._e(),1==a?e("os-input",{attrs:{item:t},scopedSlots:s._u([{key:"prefix",fn:function(){return[s._v(s._s(s.host))]},proxy:!0}],null,!0),model:{value:s.path,callback:function(t){s.path=t},expression:"path"}}):s._e(),a>1&&a<4?e("os-input",{attrs:{category:3==a?"password":"text",item:t},model:{value:s.values[a],callback:function(t){s.$set(s.values,a,t)},expression:"values[idx]"}}):s._e(),a>3?e("os-entry",{attrs:{item:t,tip:s.values[a]&&(t.tip||"")}},[e("div",{staticClass:"vertical-align-flex",staticStyle:{"min-width":"230px"}},[e("div",{staticClass:"add",on:{click:function(t){return s.open(s.values[a])}}},[s._v(s._s(s.values[a]))])])]):s._e()],1):s._e()})),"samba"===s.type?e("os-entry",[e("div",{staticClass:"btn btn-blue",on:{click:s.save}},[s._v(s._s(s.$t("btn.save")))])]):s._e()],2)],1)},i=[],n=(e("a15b"),e("a434"),e("d3b7"),e("ac1f"),e("1276"),e("ddb0"),{data:function(){return{values:[],task:null,rules:["any_samba_disabled","smb_addr","smb_username","smb_passwd"],block:!1,disable:"0",host:"",path:"",inited:!1,suffix:"/usb"}},props:{type:{default:"samba"}},computed:{fields:function(){return this.$t("service.file.fields")}},methods:{get_samba_info:function(){var s=this;this.$req.get("/webapi?op=get_samba_info").then((function(t){if(!s.inited){s.disable=t.any_samba_disabled;var e=t.smb_addr.split("\\");s.host=e.splice(0,3).join("\\")+"\\",s.path=e.join("\\"),s.values=s.obj_to_arr(t,s.rules),s.inited=!0}s.values[4]="http://"+location.href.split("/")[2]+s.suffix}))},set_samba:function(){this.proxy_req("post","/webapi?op=set_samba_status",{any_samba_disabled:this.disable},(function(s){}),!0)},open:function(s){s&&window.open(s)},save:function(){if(!this.verify_password(this.values[3])){var s={smb_username:this.values[2],smb_passwd:this.values[3],smb_share_name:this.path};console.log(s),this.proxy_req("post","/webapi?op=set_samba_info",s,(function(s){}),!0)}}},created:function(){this.get_samba_info(),this.task=setInterval(this.get_samba_info,5e3)},beforeDestroy:function(){clearInterval(this.task),this.task=null}}),l=n,o=e("2877"),r=Object(o["a"])(l,a,i,!1,null,"dc5a2b34",null);t["default"]=r.exports}}]);