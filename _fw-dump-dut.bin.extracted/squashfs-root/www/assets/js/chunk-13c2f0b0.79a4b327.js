(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13c2f0b0"],{"22b8":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".net-wan .label[data-v-1a8b068c]{text-align:right;height:100%;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.net-wan .padding-10[data-v-1a8b068c]{padding:10px 0}.net-wan[data-v-1a8b068c] .el-input .el-input__inner{height:30px;line-height:30px}.net-wan[data-v-1a8b068c] .el-input .el-input__icon{line-height:30px}.net-wan[data-v-1a8b068c] .el-button{width:78px;height:26px;padding:0 0;line-height:26px}@media screen and (max-width:800px){.net-wan .view-table[data-v-1a8b068c]{overflow:auto}.net-wan .table-center[data-v-1a8b068c]{width:1024px}}",""]),t.exports=e},2909:function(t,e,i){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("25f0"),i("3ca3"),i("ddb0");function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){return a(t)||o(t)||n()}i.d(e,"a",(function(){return s}))},"3ca3":function(t,e,i){"use strict";var a=i("6547").charAt,o=i("69f3"),n=i("7dd0"),s="String Iterator",c=o.set,l=o.getterFor(s);n(String,"String",(function(t){c(this,{type:s,string:String(t),index:0})}),(function(){var t,e=l(this),i=e.string,o=e.index;return o>=i.length?{value:void 0,done:!0}:(t=a(i,o),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,i){"use strict";var a=i("0366"),o=i("7b0b"),n=i("9bdd"),s=i("e95a"),c=i("50c4"),l=i("8418"),r=i("35a1");t.exports=function(t){var e,i,p,u,d,_,v=o(t),f="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,w=void 0!==b,g=r(v),m=0;if(w&&(b=a(b,h>2?arguments[2]:void 0,2)),void 0==g||f==Array&&s(g))for(e=c(v.length),i=new f(e);e>m;m++)_=w?b(v[m],m):v[m],l(i,m,_);else for(u=g.call(v),d=u.next,i=new f;!(p=d.call(u)).done;m++)_=w?n(u,b,[p.value,m],!0):p.value,l(i,m,_);return i.length=m,i}},5157:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"net-wan relative"},[i("page-loading",{ref:"loading"}),i("os-entry",{attrs:{item:t.$t("network.wan.proto_label")}},[i("el-select",{model:{value:t.selected_protocol,callback:function(e){t.selected_protocol=e},expression:"selected_protocol"}},t._l(t.protocols,(function(t,e){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"dhcp"==t.selected_protocol,expression:"selected_protocol=='dhcp'"}]},[t._l(t.fields_dhcp,(function(e,a){return i("os-input",{key:a,attrs:{item:e,tip:t.dns_tip},model:{value:t.value_dhcp[a],callback:function(e){t.$set(t.value_dhcp,a,e)},expression:"value_dhcp[idx]"}})})),i("div",{staticClass:"value alone-right"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleSave}},[t._v(t._s(t.$t("btn.save")))])],1)],2),i("div",{directives:[{name:"show",rawName:"v-show",value:"pppoe"==t.selected_protocol,expression:"selected_protocol=='pppoe'"}]},[t._l(t.fields_pppoe,(function(e,a){return[e.indexOf("dns")>-1||e.indexOf("DNS")>-1?i("os-input",{key:a,attrs:{item:e,tip:t.dns_tip},model:{value:t.value_pppoe[a],callback:function(e){t.$set(t.value_pppoe,a,e)},expression:"value_pppoe[idx]"}}):i("os-input",4==a||5==a?{key:a,attrs:{item:e,tip:t.dns_tip1},model:{value:t.value_pppoe[a],callback:function(e){t.$set(t.value_pppoe,a,e)},expression:"value_pppoe[idx]"}}:{key:a,attrs:{category:1==a?"password":"text",item:e},model:{value:t.value_pppoe[a],callback:function(e){t.$set(t.value_pppoe,a,e)},expression:"value_pppoe[idx]"}})]})),i("div",{staticClass:"value alone-right"},[i("div",{staticClass:"btn btn-blue mb20",on:{click:t.pppoe_click0}},[t._v(t._s(t.btns[0]))]),i("div",{staticClass:"btn btn-blue mb20",on:{click:t.pppoe_click1}},[t._v(t._s(t.btns[1]))]),i("div",{staticClass:"btn btn-blue mb20",on:{click:t.pppoe_click2}},[t._v(t._s(t.btns[2]))]),i("div",{staticClass:"btn btn-blue mb20",on:{click:t.pppoe_click3}},[t._v(t._s(t.btns[3]))])])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:"static"==t.selected_protocol,expression:"selected_protocol=='static'"}]},[t._l(t.fields_static,(function(e,a){return[e.indexOf("dns")>-1||e.indexOf("DNS")>-1?i("os-input",{key:a,attrs:{item:e,tip:t.dns_tip},model:{value:t.value_static[a],callback:function(e){t.$set(t.value_static,a,e)},expression:"value_static[idx]"}}):i("os-input",{key:a,attrs:{item:e},model:{value:t.value_static[a],callback:function(e){t.$set(t.value_static,a,e)},expression:"value_static[idx]"}})]})),i("div",{staticClass:"value alone-right"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleSave}},[t._v(t._s(t.$t("btn.save")))])],1)],2),i("os-loading",{ref:"os_load",attrs:{condition:"pppoe"===t.selected_protocol,delay:!1}}),i("div",{staticClass:"view-table mb20"},[i("div",{staticClass:"table-title"},[t._v(" "+t._s(t.info.title)+" ")]),i("table",{staticClass:"table-center"},[t._m(0),i("thead",[i("tr",t._l(t.info.head,(function(e,a){return i("th",{key:a},[t._v(t._s(e))])})),0)]),i("tbody",[i("tr",t._l(t.info.value,(function(e,a){return i("td",{key:a,class:{"text-green":3==a||5==a||7==a,"text-orange":4==a||6==a},staticStyle:{"word-break":"break-word"}},[t._v(" "+t._s(e)+" ")])})),0)])])]),i("div",{staticClass:"toolbar"},[t._v(t._s(t.toolbar))]),i("os-log",{attrs:{title:t.$t("network.wan.detection"),"log-info":t.detectionList}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("colgroup",[i("col",{staticClass:"w40"}),i("col",{staticClass:"w60"}),i("col",{staticClass:"w70"}),i("col",{staticClass:"w50"}),i("col",{staticClass:"w50"}),i("col",{staticClass:"w40"}),i("col",{staticClass:"w40"}),i("col",{staticClass:"w50"})])}],n=(i("a434"),i("d3b7"),i("ac1f"),i("1276"),i("96cf"),i("1da1")),s=i("2909"),c=i("5530"),l=i("2f62"),r=(i("0f32"),i("b047"),i("c9b7")),p=3e3,u={data:function(){return{wan_config:"",wan_status:"",wan_info:"",wan_traffic:"",wan_total_traffic:"",traffic_timer:null,selected_protocol:"",count:0,fields_dhcp:this.$t("network.wan.fields_dhcp"),value_dhcp:["",""],fields_pppoe:this.$t("network.wan.fields_pppoe"),btns:this.$t("network.wan.btns"),value_pppoe:["","","","","",""],fields_static:this.$t("network.wan.fields_static"),value_static:["","","","",""],dns_tip:this.$t("network.wan.dns_tip"),dns_tip1:this.$t("network.wan.dns_tip1"),input_error_id:!1,input_error_pwd:!1,detectionList:[],duration:5e3,loading_pic:i("da5b"),show_pppoe_status:!1,pppoe_status:"",pppoe_timer:null,pppoe_notice:this.$t("network.wan.pppoe_notice")}},computed:Object(c["a"])({protocols:function(){return this.$t("network.wan.protocols")},info:function(){var t=this.$t("network.wan.info"),e=t.value,i=(this.wan_config,this.wan_status),a=this.value_to_label(this.protocols,i.proto);return e[0]=a||"--",e[1]=i.ipaddr?i.ipaddr:"--",e[2]=i.macaddr?i.macaddr:"--",e[3]=this.formatByte(i.tx),e[4]=this.formatByte(i.rx),e[5]=this.formatByte(i.txall),e[6]=this.formatByte(i.rxall),e[7]=this.formatDuration(i.uptime),t},toolbar:function(){return this.$t("network.wan.toolbar")}},Object(l["b"])(["username","password"])),methods:{get_wan_config:function(){var t=this;return this.$req.get("/webapi?op=get_wan_config").then((function(e){console.log("=============="),console.log(e),console.log("==============");var i=e.data;console.log(e.data),t.selected_protocol=i.proto,t.value_dhcp.splice(0,1,i.dns_primary),t.value_dhcp.splice(1,1,i.dns_secondary),t.value_pppoe.splice(0,1,i.username),t.value_pppoe.splice(1,1,i.password),t.value_pppoe.splice(2,1,i.dns_primary),t.value_pppoe.splice(3,1,i.dns_secondary),t.value_pppoe.splice(4,1,i.ac),t.value_pppoe.splice(5,1,i.service),t.value_static.splice(0,1,i.ipaddr),t.value_static.splice(1,1,i.netmask),t.value_static.splice(2,1,i.gateway),t.value_static.splice(3,1,i.dns_primary),t.value_static.splice(4,1,i.dns_secondary),t.wan_config=i})).finally((function(){return console.log("config"),Promise.resolve()}))},get_wan_status:function(){var t=this;return this.$req.get("/webapi?op=get_wan_status").then((function(e){t.wan_status=e.data,console.log(t.wan_status)})).catch((function(t){})).finally((function(){return console.log("status"),Promise.resolve()}))},handleSave:function(){var t,e=this;switch(console.log(this.wan_config),this.selected_protocol){case"pppoe":if(console.log(this.value_pppoe),this.verify_password(this.value_pppoe[1]))return;if(!this.isValidIP.apply(this,Object(s["a"])(this.filterValue(this.value_pppoe[2],this.value_pppoe[3]))))return;if(""==this.value_pppoe[0]||void 0==this.value_pppoe[0]||""==this.value_pppoe[1]||void 0==this.value_pppoe[1])return void this.$message({type:"error",message:this.$t("notification.typeUserPwd"),showClose:!0});t={proto:this.selected_protocol,username:this.value_pppoe[0],password:this.value_pppoe[1],dns_primary:this.value_pppoe[2],dns_secondary:this.value_pppoe[3],ac:this.value_pppoe[4],service:this.value_pppoe[5]},this.$refs.os_load.create_interval();break;case"dhcp":if(console.log(this.value_dhcp[1]),!this.isValidIP.apply(this,Object(s["a"])(this.filterValue(this.value_dhcp[0],this.value_dhcp[1]))))return;t={proto:this.selected_protocol,dns_primary:this.value_dhcp[0],dns_secondary:this.value_dhcp[1]};break;case"static":var i=this.deepClone(this.value_static);if(!this.value_static[0]||!this.value_static[1])return void this.$alert(this.$t("notification.ip_or_netmask_empty"),{type:"error",title:this.$t("notification.notice"),showClose:!0});if(console.log(i),!this.isValidIP.apply(this,Object(s["a"])(this.filterValue.apply(this,Object(s["a"])(i)))))return;t={proto:this.selected_protocol,ipaddr:this.value_static[0],netmask:this.value_static[1],gateway:this.value_static[2],dns_primary:this.value_static[3],dns_secondary:this.value_static[4]};break}console.log(t),this.proxy_req("post","/webapi?op=set_wan_config",t,(function(i){"pppoe"===e.selected_protocol&&e.create_pppoe_interval(),"1"==i.code&&t.ipaddr&&(e.wan_config.ipaddr=t.ipaddr),e.wan_config.proto=t.proto}),!0)},create_pppoe_interval:function(){var t=this;this.pppoe_timer=setInterval((function(){t.$req.get("/webapi?op=get_pppoe_status").then((function(e){"1"==e.pppoe_status?t.pppoe_status="success":t.pppoe_status="fail",clearInterval(t.pppoe_timer),setTimeout((function(){t.show_pppoe_status=!1}),1e3)})).catch((function(t){console.log(t)}))}),2e3)},pppoe_click0:Object(r["b"])((function(){this.handleSave()}),p),pppoe_click1:Object(r["b"])((function(){var t=this;this.proxy_req("get","/webapi?op=pppoe_disconnect",{disconnect:"disconnect"},(function(e){console.log(e,t._throttle)}),!0)}),p),pppoe_click2:Object(r["b"])((function(){this.proxy_req("get","/webapi?op=pppoe_reconnect",{reconnect:"reconnect"},(function(t){console.log(t)}),!0)}),p),pppoe_click3:Object(r["b"])((function(){var t=this;this.proxy_req("get","/webapi?op=pppoe_detection",{pppoe_detection:"pppoe_detection"},(function(e){console.log(e),t.detectionList=e.data.pppoe_detection.split("\n")}),!0)}),p),get_wan_info:function(){var t=this;this.$req.get("/webapi?op=get_wan_info").then((function(e){console.log("wan口信息",e),t.wan_info=e}))}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$bus.emit("changeTab",0),t.get_wan_config(),t.get_wan_status(),t.traffic_timer=setInterval((function(){t.get_wan_status()}),2e3);case 4:case"end":return e.stop()}}),e)})))()},activated:function(){var t=this;this.$bus.emit("changeTab",0),console.log("wan action"),this.traffic_timer=setInterval((function(){t.get_wan_config()}),3e3)},deactivated:function(){clearInterval(this.traffic_timer)},beforeDestroy:function(){clearInterval(this.traffic_timer),clearInterval(this.pppoe_timer),console.log("distroyed")}},d=u,_=(i("7564"),i("2877")),v=Object(_["a"])(d,a,o,!1,null,"1a8b068c",null);e["default"]=v.exports},7564:function(t,e,i){"use strict";var a=i("eb01"),o=i.n(a);o.a},a630:function(t,e,i){var a=i("23e7"),o=i("4df4"),n=i("1c7e"),s=!n((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:s},{from:o})},d28b:function(t,e,i){var a=i("746f");a("iterator")},e01a:function(t,e,i){"use strict";var a=i("23e7"),o=i("83ab"),n=i("da84"),s=i("5135"),c=i("861d"),l=i("9bf2").f,r=i("e893"),p=n.Symbol;if(o&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new p(t):void 0===t?p():p(t);return""===t&&(u[e]=!0),e};r(d,p);var _=d.prototype=p.prototype;_.constructor=d;var v=_.toString,f="Symbol(test)"==String(p("test")),h=/^Symbol\((.*)\)[^)]+$/;l(_,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(s(u,t))return"";var i=f?e.slice(7,-1):e.replace(h,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:d})}},eb01:function(t,e,i){var a=i("22b8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("07226294",a,!0,{sourceMap:!1,shadowMode:!1})}}]);