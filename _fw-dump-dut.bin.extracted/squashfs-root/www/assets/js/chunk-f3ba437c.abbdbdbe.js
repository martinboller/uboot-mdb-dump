(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3ba437c"],{"3ca3":function(t,e,a){"use strict";var i=a("6547").charAt,s=a("69f3"),c=a("7dd0"),l="String Iterator",n=s.set,o=s.getterFor(l);c(String,"String",(function(t){n(this,{type:l,string:String(t),index:0})}),(function(){var t,e=o(this),a=e.string,s=e.index;return s>=a.length?{value:void 0,done:!0}:(t=i(a,s),e.index+=t.length,{value:t,done:!1})}))},"3efc":function(t,e,a){var i=a("872e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("1b572eaa",i,!0,{sourceMap:!1,shadowMode:!1})},"4df4":function(t,e,a){"use strict";var i=a("0366"),s=a("7b0b"),c=a("9bdd"),l=a("e95a"),n=a("50c4"),o=a("8418"),r=a("35a1");t.exports=function(t){var e,a,d,h,p,_,u=s(t),v="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,b=void 0!==m,g=r(u),x=0;if(b&&(m=i(m,f>2?arguments[2]:void 0,2)),void 0==g||v==Array&&l(g))for(e=n(u.length),a=new v(e);e>x;x++)_=b?m(u[x],x):u[x],o(a,x,_);else for(h=g.call(u),p=h.next,a=new v;!(d=p.call(h)).done;x++)_=b?c(h,m,[d.value,x],!0):d.value,o(a,x,_);return a.length=x,a}},"596e":function(t,e,a){"use strict";var i=a("3efc"),s=a.n(i);s.a},"872e":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".area-wrap[data-v-48efadc9]{-webkit-box-flex:1;-ms-flex:1 0 100%;flex:1 0 100%;border-right:1px solid #cdcdcd;border-bottom:1px solid #cdcdcd}.area-wrap li[data-v-48efadc9]{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.area-wrap .border-tl[data-v-48efadc9]{border-top:1px solid #cdcdcd;border-left:1px solid #cdcdcd}.area-wrap .area-left[data-v-48efadc9]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-right:10px;background-color:#f1f1f1}.area-wrap .area-right[data-v-48efadc9]{-webkit-box-flex:3;-ms-flex:3;flex:3;padding:10px}.area-wrap .area-right textarea[data-v-48efadc9]{float:left;width:100%;height:80px}.btn-wrap[data-v-48efadc9]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:10px;text-align:center}.field-tip[data-v-48efadc9]{line-height:15px}@media screen and (max-width:800px){.bottom-line[data-v-48efadc9]{width:85px}.field-tip[data-v-48efadc9]{line-height:2}.operate[data-v-48efadc9]{display:none}}",""]),t.exports=e},a630:function(t,e,a){var i=a("23e7"),s=a("4df4"),c=a("1c7e"),l=!c((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:l},{from:s})},e3df:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"net-dhcp relative",staticStyle:{"padding-bottom":"20px"}},[a("page-loading"),a("div",{staticClass:"form-wrap mb10"},[t._l(t.form,(function(e,i){return a("div",{key:i,staticClass:"vertical-align-flex"},[a("div",{staticClass:"field"},[t._v(t._s(e.label)+":")]),0==i?a("div",{staticClass:"value"},[a("div",{class:["switch",{"switch-off":"1"==t.dhcp_state[0]}],on:{click:t.switch_dhcp}})]):t._e(),i>0&&i<3?a("div",{key:i,staticClass:"value"},[t._v(" "+t._s(t.prefix)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dhcp_state[i],expression:"dhcp_state[idx]"}],staticClass:"input-none bottom-line text-center",domProps:{value:t.dhcp_state[i]},on:{input:function(e){e.target.composing||t.$set(t.dhcp_state,i,e.target.value)}}})]):t._e(),3==i?a("div",{staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dhcp_state[3],expression:"dhcp_state[3]"}],staticClass:"input-none bottom-line text-center",domProps:{value:t.dhcp_state[3]},on:{input:function(e){e.target.composing||t.$set(t.dhcp_state,3,e.target.value)}}}),a("el-select",{staticClass:"select-mini",model:{value:t.dhcp_state[4],callback:function(e){t.$set(t.dhcp_state,4,e)},expression:"dhcp_state[4]"}},t._l(t.time_options,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),4==i?a("div",{key:i,staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dhcp_state[5],expression:"dhcp_state[5]"}],staticClass:"input-none bottom-line text-center",staticStyle:{width:"200px"},domProps:{value:t.dhcp_state[5]},on:{input:function(e){e.target.composing||t.$set(t.dhcp_state,5,e.target.value)}}})]):t._e(),a("div",{staticClass:"value field-tip"},[t._v(t._s(e.tip))])])})),a("div",{staticClass:"value alone-right"},[a("div",{staticClass:"btn btn-blue",on:{click:t.set_dhcp_config}},[t._v(t._s(t.$t("btn.save")))])])],2),a("div",{staticClass:"view-table mb20"},[a("div",{staticClass:"table-title"},[t._v(" "+t._s(t.info1.title)+": ")]),a("table",{staticClass:"table-center"},[t._m(0),a("thead",[a("tr",t._l(t.info1.head,(function(e,i){return a("th",{key:i},[t._v(t._s(e))])})),0)]),a("tbody",t._l(t.dhcp_allocation,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.dhcp_host?e.dhcp_host:"--"))]),a("td",[t._v(t._s(e.dhcp_ip))]),a("td",[t._v(t._s(e.dhcp_mac.toUpperCase()))]),a("td",[t._v(t._s(t.formatDuration(e.dhcp_remain_lease)))])])})),0)])]),a("div",{staticClass:"view-table mb20"},[a("div",{staticClass:"table-title"},[t._v(" "+t._s(t.info2.title)+": ")]),a("div",{staticClass:"operate mb10"},[a("div",{staticClass:"btn btn-blue",on:{click:function(e){return t.removeBatch(!1)}}},[t._v(t._s(t.info2.operate[1]))])]),a("table",{staticClass:"table-center"},[t._m(1),a("thead",[a("tr",t._l(t.info2.head,(function(e,i){return a("th",{key:i},[t._v(t._s(e))])})),0)]),a("tbody",[a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_value.name,expression:"add_value.name"}],staticClass:"input-none bottom-line text-center input-cell",attrs:{type:"text"},domProps:{value:t.add_value.name},on:{input:function(e){e.target.composing||t.$set(t.add_value,"name",e.target.value)}}})]),a("td",[a("select-cell",{attrs:{options:t.host_options},model:{value:t.add_value.host,callback:function(e){t.$set(t.add_value,"host",e)},expression:"add_value.host"}})],1),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_value.ip,expression:"add_value.ip"}],staticClass:"input-none bottom-line text-center input-cell",attrs:{type:"text"},domProps:{value:t.add_value.ip},on:{input:function(e){e.target.composing||t.$set(t.add_value,"ip",e.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_value.mac,expression:"add_value.mac"}],staticClass:"input-none bottom-line text-center input-cell",attrs:{type:"text"},domProps:{value:t.add_value.mac},on:{input:function(e){e.target.composing||t.$set(t.add_value,"mac",e.target.value)}}})]),a("td",[a("span",{staticClass:"add",on:{click:t.put_static}},[t._v(t._s(t.info2.add))])])])])]),a("table",{staticClass:"table-center",staticStyle:{"margin-top":"30px"}},[t._m(2),a("thead",[a("tr",[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.switch_all,expression:"switch_all"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.switch_all)?t._i(t.switch_all,null)>-1:t.switch_all},on:{change:function(e){var a=t.switch_all,i=e.target,s=!!i.checked;if(Array.isArray(a)){var c=null,l=t._i(a,c);i.checked?l<0&&(t.switch_all=a.concat([c])):l>-1&&(t.switch_all=a.slice(0,l).concat(a.slice(l+1)))}else t.switch_all=s}}})]),t._l(t.info2.head,(function(e,i){return 1!=i?a("th",{key:i},[t._v(t._s(e))]):t._e()}))],2)]),a("tbody",t._l(t.exists_list,(function(e,i){return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.check_list[i],expression:"check_list[idx]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.check_list[i])?t._i(t.check_list[i],null)>-1:t.check_list[i]},on:{change:function(e){var a=t.check_list[i],s=e.target,c=!!s.checked;if(Array.isArray(a)){var l=null,n=t._i(a,l);s.checked?n<0&&t.$set(t.check_list,i,a.concat([l])):n>-1&&t.$set(t.check_list,i,a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.check_list,i,c)}}})]),a("td",[t._v(" "+t._s(e.name)+" ")]),a("td",[t._v(" "+t._s(e.ip)+" ")]),a("td",[t._v(" "+t._s(e.mac)+" ")]),a("td",[a("span",{staticClass:"add",on:{click:function(a){return t.removeBatch(e)}}},[t._v(t._s(t.$t("operate.drop")))])])])})),0)])]),a("div",{staticClass:"toolbar"},[t._v(t._s(t.$t("network.dhcp.toolbar")))]),a("os-alertx",{attrs:{type:"large",title:t.title},model:{value:t.show_batch,callback:function(e){t.show_batch=e},expression:"show_batch"}},[a("ul",{staticClass:"area-wrap"},t._l(t.area_list,(function(e,i){return a("li",{key:i,staticClass:"vertical-align-flex"},[a("div",{staticClass:"area-left border-tl"},[t._v(t._s(e)+"ï¼š")]),a("div",{staticClass:"area-right border-tl"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.batch_value[i],expression:"batch_value[idx]"}],staticClass:"text-area",domProps:{value:t.batch_value[i]},on:{input:function(e){e.target.composing||t.$set(t.batch_value,i,e.target.value)}}}),a("span",{staticClass:"tip",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.tips[i]))])])])})),0),a("div",{staticClass:"btn-wrap"},[a("div",{staticClass:"btn btn-gray",on:{click:t.batch_confirm}},[t._v(t._s(t.$t("btn.confirm")))]),a("div",{staticClass:"btn btn-gray",on:{click:t.batch_cancel}},[t._v(t._s(t.$t("btn.cancel")))])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticClass:"w150"}),a("col",{staticClass:"w70"}),a("col",{staticClass:"w80"}),a("col",{staticClass:"w70"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticClass:"w50"}),a("col",{staticClass:"w100"}),a("col",{staticClass:"w80"}),a("col",{staticClass:"w80"}),a("col",{staticClass:"w50"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticClass:"w30"}),a("col",{staticClass:"w150"}),a("col",{staticClass:"w80"}),a("col",{staticClass:"w80"}),a("col",{staticClass:"w50"})])}],c=(a("4160"),a("a630"),a("fb6a"),a("b0c0"),a("a9e3"),a("ac1f"),a("3ca3"),a("1276"),a("159b"),a("5530")),l={data:function(){return{prefix:"",dhcp_config:{},flag:!1,dhcp_state:["","","","","",""],show_batch:!1,title:this.$t("network.dhcp.batch.title"),area_list:this.$t("network.dhcp.batch.list"),batch_value:["","",""],tips:this.$t("network.dhcp.batch.tips"),dhcp_allocation:[],timer:null,switch_all:!1,check_list:[],add_value:{name:"",host:"",mac:"",ip:""},host_options:[],exists_list:[]}},computed:{form:function(){return"SL"==this.corporation?this.$t("network.dhcp.form_sl"):this.$t("network.dhcp.form")},time_options:function(){return this.$t("network.dhcp.time_options")},info1:function(){return this.$t("network.dhcp.info1")},info2:function(){return this.$t("network.dhcp.info2")},enable:function(){return this.flag,this.dhcp_state[0],"0"!=this.dhcp_state[0]}},methods:{put_static:function(){var t=this,e=Object(c["a"])({},this.add_value);e.host=this.add_value.name,this.isCompatibleIP(e.ip)&&this.proxy_req("post","/webapi?op=set_static_dhcp",e,(function(e){t.get_static_dhcp(),console.log(e)}),!0)},removeBatch:function(t){var e,a=this;if(console.log(t),t)e={maclist:[t.mac]};else{console.log("ok");var i=[];this.check_list.forEach((function(t,e){t&&(console.log(e),i.push(a.exists_list[e].mac))})),e={maclist:i}}console.log(e),this.proxy_req("post","/webapi?op=delete_static_dhcp",e,(function(t){"1"==t.code&&a.get_static_dhcp()}),!0)},get_static_dhcp:function(){var t=this;this.$req.get("/webapi?op=get_static_dhcp").then((function(e){"SL"==t.corporation&&e.arp_mac_list.forEach((function(t,a){e.arp_mac_list[a]=t.split("(")[0].toUpperCase()})),t.host_options=e.arp_mac_list,t.exists_list=e.data,console.log(t.exists_list),e.data.length>0&&(t.check_list=Array.from({length:e.data.length},(function(){return!1}))),console.log(t.check_list)}))},get_dhcp_config:function(){var t=this;this.$req.get("/webapi?op=get_dhcp_config").then((function(e){console.log(e.data),t.prefix=e.data.dhcp_head,t.obj_to_arr(e.data,["dhcp_enabled","dhcp_start","dhcp_end"],t.dhcp_state);var a=parseInt(e.data.dhcp_lease),i=Math.floor(a/3600),s=Math.floor(a/60%60);i>0?(t.$set(t.dhcp_state,3,i),t.$set(t.dhcp_state,4,"h")):(t.$set(t.dhcp_state,3,s),t.$set(t.dhcp_state,4,"m")),t.$set(t.dhcp_state,5,e.data.dhcp_option),console.log(t.dhcp_state)}))},get_dhcp_allocation:function(){var t=this;this.$req.get("/webapi?op=get_dhcp_allocation").then((function(e){var a=e.data;t.dhcp_allocation=a}))},switch_dhcp:function(){var t="0"==this.dhcp_state[0]?"1":"0";this.$set(this.dhcp_state,0,t),console.log(this.enable,this.dhcp_state[0])},duration_err_alert:function(){this.err_alert(this.$t("notification.dhcp_duration_err"))},set_dhcp_config:function(){var t,e=this,a=this.dhcp_state[3];if(Number(a)){var i=parseInt(a);if(i>=1&&i<=1440){t="h"==this.dhcp_state[4]?3600*i:60*i;var s={dhcp_enabled:this.dhcp_state[0],dhcp_start:this.dhcp_state[1],dhcp_end:this.dhcp_state[2],dhcp_lease:t+"",dhcp_option:this.dhcp_state[5]};this.proxy_req("get","/webapi?op=set_dhcp_config",s,(function(t){"1"==t.code&&e.get_dhcp_config()}),!0,this.$t("network.dhcp.resultMap"))}else this.duration_err_alert()}else this.duration_err_alert()},batch_confirm:function(){},batch_cancel:function(){this.show_batch=!1}},watch:{"add_value.host":{handler:function(t){console.log(t);var e=t.split("(");this.add_value.mac=e[0],this.add_value.ip=e[1].slice(0,e[1].length-1),console.log(this.add_value)},deep:!0},switch_all:function(t,e){console.log(t),this.check_list=Array.from({length:this.check_list.length},(function(e,a){return t})),console.log(this.check_list)}},created:function(){var t=this;this.get_static_dhcp(),this.$bus.emit("changeTab",3),this.get_dhcp_config(),this.get_dhcp_allocation(),this.timer=setInterval((function(){t.get_dhcp_allocation()}),3e3)},activated:function(){var t=this;this.timer=setInterval((function(){t.get_dhcp_allocation()}),3e3)},deactivated:function(){clearInterval(this.timer),this.timer=null},beforeDestroy:function(){clearInterval(this.timer),this.timer=null}},n=l,o=(a("596e"),a("2877")),r=Object(o["a"])(n,i,s,!1,null,"48efadc9",null);e["default"]=r.exports},fb6a:function(t,e,a){"use strict";var i=a("23e7"),s=a("861d"),c=a("e8b5"),l=a("23cb"),n=a("50c4"),o=a("fc6a"),r=a("8418"),d=a("b622"),h=a("1dde"),p=a("ae40"),_=h("slice"),u=p("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),f=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!_||!u},{slice:function(t,e){var a,i,d,h=o(this),p=n(h.length),_=l(t,p),u=l(void 0===e?p:e,p);if(c(h)&&(a=h.constructor,"function"!=typeof a||a!==Array&&!c(a.prototype)?s(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return f.call(h,_,u);for(i=new(void 0===a?Array:a)(m(u-_,0)),d=0;_<u;_++,d++)_ in h&&r(i,d,h[_]);return i.length=d,i}})}}]);